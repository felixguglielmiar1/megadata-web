const express= require('express')
const app=express() 
const exphbs= require('express-handlebars')
const path = require('path')
const hbs = require('hbs')
const port= process.env.PORT || 3000
app.use(require('express-fileupload')())
//app.engine('.hbs', exphbs())
//app.set('view engine', '.hbs') 
app.use(express.static(path.join('public')))
//app.engine('.hbs', exphbs())
//app.use(express.static(path.join(__dirname, "public")))//__dirname + '/public'))
hbs.registerPartials(__dirname + '/views/partials')
app.set('view engine', 'hbs') 
app.use(express.urlencoded({extended: false}))
app.use(require('./routers/index'))  
app.use(require('./routers/auth'))
 app.listen(port, ()=>{
        console.log('http://localhost:'+port)
        })                  